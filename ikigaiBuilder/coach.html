<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach IA - Assistant Personnel Ikigai</title>

    <!-- Google Analytics 4 -->
    <script src="../analytics.js"></script>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/coach.css">
    <script src="js/navigation.js" defer></script>
    <script src="js/coach.js" defer></script>
    <script src="config.js"></script>
    <script src="ai-coach.js"></script>
</head>
<body>
    <!-- Navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="logo">ğŸ§  Ikigai Builder</a>
            
            <button class="menu-toggle">â˜°</button>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span class="nav-icon">ğŸ </span>
                        Accueil
                    </a>
                </li>
                <li class="nav-item">
                    <a href="formulaire.html" class="nav-link">
                        <span class="nav-icon">ğŸ“</span>
                        Mon Ikigai
                    </a>
                </li>
                <li class="nav-item">
                    <a href="coach.html" class="nav-link active">
                        <span class="nav-icon">ğŸ¤–</span>
                        Coach IA
                    </a>
                </li>
                <li class="nav-item">
                    <a href="analyse.html" class="nav-link">
                        <span class="nav-icon">ğŸ“Š</span>
                        Analyse
                    </a>
                </li>
                <li class="nav-item">
                    <a href="recommandations.html" class="nav-link">
                        <span class="nav-icon">ğŸ¯</span>
                        Recommandations
                    </a>
                </li>
                <li class="nav-item">
                    <a href="outils.html" class="nav-link">
                        <span class="nav-icon">âš™ï¸</span>
                        Outils
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Page Coach IA -->
    <div class="page-container">
        <div class="page-header">
            <h1>ğŸ¤– Coach IA Personnel</h1>
            <p>Votre assistant intelligent pour dÃ©couvrir votre Ikigai</p>
        </div>

        <div class="page-content">
            <!-- Configuration du coach -->
            <div class="coach-config" id="coachConfig">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">âš™ï¸</span>
                        <div>
                            <h3 class="card-title">Configuration du Coach</h3>
                            <p class="card-subtitle">Personnalisez votre expÃ©rience</p>
                        </div>
                    </div>
                    
                    <div class="config-options">
                        <div class="config-group">
                            <label>Mode d'accompagnement :</label>
                            <select id="coachMode" class="config-select">
                                <option value="discovery">ğŸ” DÃ©couverte (Questions exploratoires)</option>
                                <option value="analysis">ğŸ“Š Analyse (Feedback et insights)</option>
                                <option value="guidance">ğŸ§­ Guidance (Conseils pratiques)</option>
                                <option value="motivation">ğŸ’ª Motivation (Encouragement)</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <label>Niveau de profondeur :</label>
                            <select id="depthLevel" class="config-select">
                                <option value="surface">â­ LÃ©ger (Questions simples)</option>
                                <option value="medium" selected>â­â­ ModÃ©rÃ© (Questions approfondies)</option>
                                <option value="deep">â­â­â­ Profond (Analyse psychologique)</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <label>Style de communication :</label>
                            <select id="communicationStyle" class="config-select">
                                <option value="friendly" selected>ğŸ˜Š Amical et bienveillant</option>
                                <option value="professional">ğŸ¯ Professionnel et direct</option>
                                <option value="socratic">ğŸ¤” Socratique (Questions profondes)</option>
                                <option value="encouraging">ğŸŒŸ Encourageant et motivant</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-actions">
                        <button class="btn btn-primary" onclick="startCoachSession()">ğŸš€ Commencer la session</button>
                        <button class="btn btn-secondary" onclick="resetCoach()">ğŸ”„ RÃ©initialiser</button>
                    </div>
                </div>
            </div>

            <!-- Interface de chat -->
            <div class="chat-container" id="chatContainer" style="display: none;">
                <div class="chat-header">
                    <div class="coach-avatar">ğŸ¤–</div>
                    <div class="coach-info">
                        <h4>Coach IA Ikigai</h4>
                        <span class="coach-status" id="coachStatus">En ligne</span>
                    </div>
                    <div class="chat-actions">
                        <button class="btn-icon" onclick="toggleCoachConfig()" title="Configuration">âš™ï¸</button>
                        <button class="btn-icon" onclick="exportConversation()" title="Exporter">ğŸ’¾</button>
                        <button class="btn-icon" onclick="clearConversation()" title="Effacer">ğŸ—‘ï¸</button>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will appear here -->
                </div>
                
                <div class="chat-input-container">
                    <div class="quick-actions" id="quickActions">
                        <!-- Quick action buttons will appear here -->
                    </div>
                    
                    <div class="chat-input-wrapper">
                        <textarea id="chatInput" class="chat-input" placeholder="Tapez votre message..." rows="1"></textarea>
                        <button class="send-button" id="sendButton" onclick="sendMessage()">
                            <span class="send-icon">ğŸ“¤</span>
                        </button>
                    </div>
                    
                    <div class="input-status" id="inputStatus">
                        <span class="typing-indicator" id="typingIndicator" style="display: none;">
                            Le coach IA rÃ©flÃ©chit... <span class="dots">...</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Suggestions de dÃ©marrage -->
            <div class="starter-suggestions" id="starterSuggestions" style="display: none;">
                <h4>ğŸ’¡ Suggestions pour commencer :</h4>
                <div class="suggestions-grid">
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Je ne sais pas par oÃ¹ commencer pour dÃ©couvrir mon Ikigai')">
                        ğŸ¤” Je ne sais pas par oÃ¹ commencer
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Je ressens le besoin de changer de carriÃ¨re mais j\\'ai peur')">
                        ğŸ”„ Je veux changer de carriÃ¨re
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Aide-moi Ã  identifier mes passions profondes')">
                        â¤ï¸ DÃ©couvrir mes passions
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Comment identifier mes vrais talents ?')">
                        ğŸ¯ Identifier mes talents
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Quel impact puis-je avoir sur le monde ?')">
                        ğŸŒ Mon impact sur le monde
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Comment monÃ©tiser mes compÃ©tences ?')">
                        ğŸ’° MonÃ©tiser mes compÃ©tences
                    </button>
                </div>
            </div>

            <!-- Historique des sessions -->
            <div class="session-history" id="sessionHistory" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“š</span>
                        <div>
                            <h3 class="card-title">Historique des Sessions</h3>
                            <p class="card-subtitle">Retrouvez vos conversations prÃ©cÃ©dentes</p>
                        </div>
                    </div>
                    <div class="history-list" id="historyList">
                        <!-- History items will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indicateur de frappe -->
    <style>
        @keyframes dots {
            0%, 20% { color: transparent; }
            40% { color: #667eea; }
            100% { color: transparent; }
        }
        
        .dots span:nth-child(1) { animation: dots 1.4s infinite; animation-delay: 0s; }
        .dots span:nth-child(2) { animation: dots 1.4s infinite; animation-delay: 0.2s; }
        .dots span:nth-child(3) { animation: dots 1.4s infinite; animation-delay: 0.4s; }
    </style>
</body>
</html>