<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outils - Export, Sauvegarde et Configuration</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/outils.css">
    <script src="js/navigation.js" defer></script>
    <script src="js/outils.js" defer></script>
    <script src="config.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- Navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="logo">üß† Ikigai Builder</a>
            
            <button class="menu-toggle">‚ò∞</button>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span class="nav-icon">üè†</span>
                        Accueil
                    </a>
                </li>
                <li class="nav-item">
                    <a href="formulaire.html" class="nav-link">
                        <span class="nav-icon">üìù</span>
                        Mon Ikigai
                    </a>
                </li>
                <li class="nav-item">
                    <a href="coach.html" class="nav-link">
                        <span class="nav-icon">ü§ñ</span>
                        Coach IA
                    </a>
                </li>
                <li class="nav-item">
                    <a href="analyse.html" class="nav-link">
                        <span class="nav-icon">üìä</span>
                        Analyse
                    </a>
                </li>
                <li class="nav-item">
                    <a href="recommandations.html" class="nav-link">
                        <span class="nav-icon">üéØ</span>
                        Recommandations
                    </a>
                </li>
                <li class="nav-item">
                    <a href="outils.html" class="nav-link active">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        Outils
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Page des outils -->
    <div class="page-container">
        <div class="page-header">
            <h1>‚öôÔ∏è Outils et Configuration</h1>
            <p>Export, sauvegarde, configuration et outils avanc√©s</p>
        </div>

        <div class="page-content">
            <!-- Export et Sauvegarde -->
            <div class="export-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üíæ</span>
                        <div>
                            <h3 class="card-title">Export et Sauvegarde</h3>
                            <p class="card-subtitle">Sauvegardez et partagez vos d√©couvertes</p>
                        </div>
                    </div>
                    
                    <div class="tools-grid">
                        <div class="tool-card" onclick="generatePDF()">
                            <div class="tool-icon">üìÑ</div>
                            <div class="tool-title">G√©n√©rer PDF</div>
                            <div class="tool-desc">Rapport complet avec analyse et visualisation</div>
                            <div class="tool-status" id="pdfStatus">Pr√™t</div>
                        </div>
                        
                        <div class="tool-card" onclick="exportJSON()">
                            <div class="tool-icon">üì§</div>
                            <div class="tool-title">Exporter JSON</div>
                            <div class="tool-desc">Format de donn√©es pour sauvegarde</div>
                            <div class="tool-status">Pr√™t</div>
                        </div>
                        
                        <div class="tool-card" onclick="importJSON()">
                            <div class="tool-icon">üì•</div>
                            <div class="tool-title">Importer JSON</div>
                            <div class="tool-desc">Restaurer vos donn√©es sauvegard√©es</div>
                            <div class="tool-status">Pr√™t</div>
                        </div>
                        
                        <div class="tool-card" onclick="shareResults()">
                            <div class="tool-icon">üîó</div>
                            <div class="tool-title">Partager</div>
                            <div class="tool-desc">Lien de partage s√©curis√©</div>
                            <div class="tool-status">Pr√™t</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuration IA -->
            <div class="ai-config-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ü§ñ</span>
                        <div>
                            <h3 class="card-title">Configuration IA</h3>
                            <p class="card-subtitle">Param√®tres des fonctionnalit√©s intelligentes</p>
                        </div>
                        <div class="config-status" id="aiConfigStatus">
                            <span class="status-indicator demo">Mode D√©mo</span>
                        </div>
                    </div>
                    
                    <div class="config-content">
                        <div class="config-section">
                            <h4>üîë Cl√©s API</h4>
                            <p class="config-desc">Configurez vos cl√©s API pour activer les fonctionnalit√©s avanc√©es</p>
                            
                            <div class="api-keys">
                                <div class="api-key-input">
                                    <label>OpenAI (GPT-4) :</label>
                                    <div class="input-group">
                                        <input type="password" id="openaiKey" placeholder="sk-..." onchange="updateAPIKey('openai')">
                                        <button class="btn-small" onclick="testAPIKey('openai')">Tester</button>
                                    </div>
                                    <div class="key-status" id="openaiStatus">Non configur√©</div>
                                </div>
                                
                                <div class="api-key-input">
                                    <label>Anthropic (Claude) :</label>
                                    <div class="input-group">
                                        <input type="password" id="anthropicKey" placeholder="sk-ant-..." onchange="updateAPIKey('anthropic')">
                                        <button class="btn-small" onclick="testAPIKey('anthropic')">Tester</button>
                                    </div>
                                    <div class="key-status" id="anthropicStatus">Non configur√©</div>
                                </div>
                                
                                <div class="api-key-input">
                                    <label>Google AI :</label>
                                    <div class="input-group">
                                        <input type="password" id="googleKey" placeholder="AIza..." onchange="updateAPIKey('google')">
                                        <button class="btn-small" onclick="testAPIKey('google')">Tester</button>
                                    </div>
                                    <div class="key-status" id="googleStatus">Non configur√©</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-section">
                            <h4>üéõÔ∏è Param√®tres IA</h4>
                            <div class="config-options">
                                <div class="config-option">
                                    <label>Mod√®le pr√©f√©r√© :</label>
                                    <select id="preferredModel" onchange="updateAIConfig()">
                                        <option value="auto">Automatique</option>
                                        <option value="gpt-4">GPT-4 (OpenAI)</option>
                                        <option value="claude">Claude (Anthropic)</option>
                                        <option value="gemini">Gemini (Google)</option>
                                    </select>
                                </div>
                                
                                <div class="config-option">
                                    <label>Temp√©rature (cr√©ativit√©) :</label>
                                    <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.7" onchange="updateAIConfig()">
                                    <span id="temperatureValue">0.7</span>
                                </div>
                                
                                <div class="config-option">
                                    <label>Tokens maximum :</label>
                                    <select id="maxTokens" onchange="updateAIConfig()">
                                        <option value="500">500 (Rapide)</option>
                                        <option value="1000" selected>1000 (√âquilibr√©)</option>
                                        <option value="2000">2000 (D√©taill√©)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Outils d'analyse avanc√©s -->
            <div class="advanced-tools-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üöÄ</span>
                        <div>
                            <h3 class="card-title">Outils d'Analyse Avanc√©s</h3>
                            <p class="card-subtitle">Fonctionnalit√©s sp√©cialis√©es</p>
                        </div>
                    </div>
                    
                    <div class="tools-grid">
                        <div class="tool-card advanced" onclick="startPsychologicalAssessment()">
                            <div class="tool-icon">üß†</div>
                            <div class="tool-title">√âvaluation Psychologique</div>
                            <div class="tool-desc">Test de personnalit√© Big Five approfondi</div>
                            <div class="tool-badge">IA</div>
                        </div>
                        
                        <div class="tool-card advanced" onclick="runBehavioralAnalysis()">
                            <div class="tool-icon">üìä</div>
                            <div class="tool-title">Analyse Comportementale</div>
                            <div class="tool-desc">Patterns et biais cognitifs d√©tect√©s par IA</div>
                            <div class="tool-badge">IA</div>
                        </div>
                        
                        <div class="tool-card advanced" onclick="createAdaptivePathway()">
                            <div class="tool-icon">üß≠</div>
                            <div class="tool-title">Parcours Adaptatif</div>
                            <div class="tool-desc">Plan personnalis√© qui √©volue avec vous</div>
                            <div class="tool-badge">IA</div>
                        </div>
                        
                        <div class="tool-card advanced" onclick="predictSuccessProbability()">
                            <div class="tool-icon">üîÆ</div>
                            <div class="tool-title">Pr√©diction de Succ√®s</div>
                            <div class="tool-desc">Algorithmes pr√©dictifs bas√©s sur les donn√©es</div>
                            <div class="tool-badge">IA</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gestion des donn√©es -->
            <div class="data-management-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üóÑÔ∏è</span>
                        <div>
                            <h3 class="card-title">Gestion des Donn√©es</h3>
                            <p class="card-subtitle">Contr√¥lez vos informations</p>
                        </div>
                    </div>
                    
                    <div class="data-overview">
                        <div class="data-summary" id="dataSummary">
                            <!-- Data summary will be loaded here -->
                        </div>
                        
                        <div class="data-actions">
                            <button class="btn btn-info" onclick="showDataDetails()">üìä Voir d√©tails</button>
                            <button class="btn btn-warning" onclick="clearAllData()">üóëÔ∏è Tout effacer</button>
                            <button class="btn btn-secondary" onclick="downloadBackup()">üíæ Sauvegarde compl√®te</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pr√©f√©rences utilisateur -->
            <div class="preferences-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üë§</span>
                        <div>
                            <h3 class="card-title">Pr√©f√©rences</h3>
                            <p class="card-subtitle">Personnalisez votre exp√©rience</p>
                        </div>
                    </div>
                    
                    <div class="preferences-content">
                        <div class="pref-group">
                            <h4>üé® Interface</h4>
                            <div class="pref-options">
                                <div class="pref-option">
                                    <label>Th√®me :</label>
                                    <select id="theme" onchange="updateTheme()">
                                        <option value="auto">Automatique</option>
                                        <option value="light">Clair</option>
                                        <option value="dark">Sombre</option>
                                    </select>
                                </div>
                                
                                <div class="pref-option">
                                    <label>Animations :</label>
                                    <input type="checkbox" id="animations" checked onchange="updatePreferences()">
                                    <span>Activer les animations</span>
                                </div>
                                
                                <div class="pref-option">
                                    <label>Notifications :</label>
                                    <input type="checkbox" id="notifications" checked onchange="updatePreferences()">
                                    <span>Afficher les notifications</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pref-group">
                            <h4>üîî Alertes</h4>
                            <div class="pref-options">
                                <div class="pref-option">
                                    <label>Rappels de progression :</label>
                                    <select id="progressReminders" onchange="updatePreferences()">
                                        <option value="never">Jamais</option>
                                        <option value="weekly" selected>Hebdomadaire</option>
                                        <option value="monthly">Mensuel</option>
                                    </select>
                                </div>
                                
                                <div class="pref-option">
                                    <label>Conseils du jour :</label>
                                    <input type="checkbox" id="dailyTips" checked onchange="updatePreferences()">
                                    <span>Recevoir des conseils quotidiens</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Support et aide -->
            <div class="support-section">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üí¨</span>
                        <div>
                            <h3 class="card-title">Support et Aide</h3>
                            <p class="card-subtitle">Assistance et ressources</p>
                        </div>
                    </div>
                    
                    <div class="support-content">
                        <div class="support-links">
                            <a href="#" class="support-link" onclick="showUserGuide()">
                                <div class="support-icon">üìñ</div>
                                <div class="support-text">
                                    <h4>Guide d'utilisation</h4>
                                    <p>Apprenez √† utiliser toutes les fonctionnalit√©s</p>
                                </div>
                            </a>
                            
                            <a href="#" class="support-link" onclick="showFAQ()">
                                <div class="support-icon">‚ùì</div>
                                <div class="support-text">
                                    <h4>FAQ</h4>
                                    <p>R√©ponses aux questions fr√©quentes</p>
                                </div>
                            </a>
                            
                            <a href="#" class="support-link" onclick="reportBug()">
                                <div class="support-icon">üêõ</div>
                                <div class="support-text">
                                    <h4>Signaler un probl√®me</h4>
                                    <p>Aidez-nous √† am√©liorer l'application</p>
                                </div>
                            </a>
                            
                            <a href="#" class="support-link" onclick="sendFeedback()">
                                <div class="support-icon">üíå</div>
                                <div class="support-text">
                                    <h4>Envoyer un feedback</h4>
                                    <p>Partagez vos suggestions d'am√©lioration</p>
                                </div>
                            </a>
                        </div>
                        
                        <div class="app-info">
                            <h4>‚ÑπÔ∏è Informations</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">Version :</span>
                                    <span class="info-value">2.0.0</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Derni√®re mise √† jour :</span>
                                    <span class="info-value">Septembre 2024</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Mode :</span>
                                    <span class="info-value" id="currentMode">D√©mo</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="configModalTitle">Configuration</h3>
                <button class="modal-close" onclick="closeConfigModal()">√ó</button>
            </div>
            <div class="modal-body" id="configModalContent">
                <!-- Config content will be loaded here -->
            </div>
        </div>
    </div>

    <input type="file" id="importFileInput" style="display: none" accept=".json" onchange="handleFileImport(event)">
</body>
</html>